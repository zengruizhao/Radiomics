


//////////////////////////////////////////////////////////////////////////////////////////

// ccipd includes
#include "ccipdProstalignChooser.h"
#include "ccipdProstalignFEM.h" // the FEM gui
#include "ccipdProstalignTPS.h" // the TPS gui

#ifdef _MSC_VER
#pragma warning( push, 0 )
#endif // _MSC_VER

// Qt includes
#include <QApplication>
#include "ui_ccipdProstalignChooser.h"

#include <iostream>

#ifdef _MSC_VER
#pragma warning( pop )
#endif // _MSC_VER

//////////////////////////////////////////////////////////////////////////////////////////



namespace ccipd
{

  
//////////////////////////////////////////////////////////////////////////////////////////
/// PIMPL Interfact to ProstalignChooser
class ProstalignChooser::SecretData
{

public:
  SecretData(); // Constructor

  std::unique_ptr< QMainWindow >
    m_TPSWindow,
    m_FEMWindow;

}; // SecretData


//////////////////////////////////////////////////////////////////////////////////////////
ProstalignChooser::SecretData::SecretData()
{
} // Constructor
//////////////////////////////////////////////////////////////////////////////////////////



//////////////////////////////////////////////////////////////////////////////////////////
ProstalignChooser::ProstalignChooser() :
ui( new Ui_ProstalignChooser ),
ccipdNewPIMPLMacro
{

  // set up the user interface
  this->ui->setupUi( this );

} // Constructor
//////////////////////////////////////////////////////////////////////////////////////////



//////////////////////////////////////////////////////////////////////////////////////////
ProstalignChooser::~ProstalignChooser()
{
}
//////////////////////////////////////////////////////////////////////////////////////////



//////////////////////////////////////////////////////////////////////////////////////////
void ProstalignChooser::SlotTPS() 
{

  // hide ourself
  this->hide();

  // show a TPS gui
  this->m_SecretData->m_TPSWindow =
    std::unique_ptr< QMainWindow >( new ProstalignTPS );
  this->m_SecretData->m_TPSWindow->show();
  
} // SlotTPS
//////////////////////////////////////////////////////////////////////////////////////////



//////////////////////////////////////////////////////////////////////////////////////////
void ProstalignChooser::SlotFEM() 
{
  
  // hide ourself
  this->hide();

  // show a FEM gui
  this->m_SecretData->m_FEMWindow =
    std::unique_ptr< QMainWindow >( new ProstalignFEM );
  this->m_SecretData->m_FEMWindow->show();
  
} // SlotFEM
//////////////////////////////////////////////////////////////////////////////////////////



//////////////////////////////////////////////////////////////////////////////////////////
void ProstalignChooser::SlotExit() 
{

  this->hide();
  qApp->exit();

} // SlotExit
//////////////////////////////////////////////////////////////////////////////////////////



} // namespace ccipd
